\# Архитектура системы управления проектами и задачами



\## 1. Назначение системы



Данный проект представляет собой \*\*мини-систему управления проектами и задачами\*\* (лабораторная работа).  

Система реализована в виде набора микросервисов на языке Python с использованием фреймворка FastAPI.



Цель лабораторной работы:



\- показать принципы построения микросервисной архитектуры;

\- продемонстрировать взаимодействие сервисов между собой;

\- показать, как система может продолжать работать при временной недоступности отдельных сервисов (деградация без полного падения).



---



\## 2. Список микросервисов и их ответственность



Все микросервисы будут запускаться как отдельные FastAPI-приложения, каждое — на своём порту.



\### 2.1. Gateway



\- \*\*Описание:\*\* единая входная точка для клиента (фронтенда или Insomnia/Postman).

\- \*\*Функции:\*\*

&nbsp; - принимает HTTP-запросы от клиента;

&nbsp; - перенаправляет запросы на соответствующие внутренние микросервисы;

&nbsp; - объединяет данные из нескольких сервисов;

&nbsp; - обрабатывает ошибки и недоступность сервисов (возвращает частичный результат).

\- \*\*Порт:\*\* `8000`.



---



\### 2.2. Auth сервис



\- \*\*Описание:\*\* сервис авторизации.

\- \*\*Функции:\*\*

&nbsp; - принимает логин/пароль;

&nbsp; - возвращает простой (фейковый) токен доступа;

&nbsp; - в рамках лабораторной работы не выполняет реальную проверку пароля, а только имитирует процесс авторизации.

\- \*\*Порт:\*\* `8001`.



---



\### 2.3. Users сервис



\- \*\*Описание:\*\* хранит информацию о пользователях системы.

\- \*\*Функции:\*\*

&nbsp; - хранение пользователей (на ранних этапах — в памяти, позже возможно в БД);

&nbsp; - выдача списка всех пользователей;

&nbsp; - выдача информации о конкретном пользователе.

\- \*\*Основные поля пользователя:\*\*  

&nbsp; - `id` — идентификатор пользователя;  

&nbsp; - `username` — имя пользователя;  

&nbsp; - `email` — адрес электронной почты.

\- \*\*Порт:\*\* `8002`.



---



\### 2.4. Projects сервис



\- \*\*Описание:\*\* отвечает за проекты (доски).

\- \*\*Функции:\*\*

&nbsp; - создание проектов;

&nbsp; - хранение списка проектов;

&nbsp; - получение информации о конкретном проекте.

\- \*\*Основные поля проекта:\*\*  

&nbsp; - `id` — идентификатор проекта;  

&nbsp; - `name` — название проекта;  

&nbsp; - `description` — описание;  

&nbsp; - `owner\_id` — идентификатор владельца проекта (пользователя).

\- \*\*Порт:\*\* `8003`.



---



\### 2.5. Tasks сервис



\- \*\*Описание:\*\* управляет задачами, принадлежащими проектам.

\- \*\*Функции:\*\*

&nbsp; - создание задач;

&nbsp; - изменение задач (описание, статус, исполнитель и т.п.);

&nbsp; - выдача списка задач по проекту.

\- \*\*Основные поля задачи:\*\*  

&nbsp; - `id` — идентификатор задачи;  

&nbsp; - `project\_id` — идентификатор проекта, к которому относится задача;  

&nbsp; - `title` — заголовок задачи;  

&nbsp; - `description` — описание;  

&nbsp; - `status` — статус задачи (`todo`, `in\_progress`, `done`);  

&nbsp; - `assignee\_id` — идентификатор исполнителя (пользователя).

\- \*\*Порт:\*\* `8004`.



---



\### 2.6. Comments сервис



\- \*\*Описание:\*\* отвечает за комментарии к задачам.

\- \*\*Функции:\*\*

&nbsp; - добавление комментариев к задачам;

&nbsp; - выдача списка комментариев по конкретной задаче.

\- \*\*Основные поля комментария:\*\*  

&nbsp; - `id` — идентификатор комментария;  

&nbsp; - `task\_id` — идентификатор задачи;  

&nbsp; - `author\_id` — идентификатор автора комментария (пользователя);  

&nbsp; - `text` — текст комментария.

\- \*\*Порт:\*\* `8005`.



---



\### 2.7. Notifications сервис



\- \*\*Описание:\*\* сервис уведомлений, который принимает события от других сервисов.

\- \*\*Функции:\*\*

&nbsp; - принимать запросы на отправку уведомлений (например, при создании задачи или комментария);

&nbsp; - имитировать отправку уведомлений (логирование или простая запись);

&nbsp; - в рамках лабораторной работы может временно не работать — основная система должна продолжать функционировать без него.

\- \*\*Порт:\*\* `8006`.



---



\## 3. Схема взаимодействия компонентов



Высокоуровневая схема взаимодействия (текстовая):



1\. \*\*Клиент\*\* (фронтенд-приложение или Insomnia/Postman) отправляет запросы \*\*только в `gateway`\*\*.

2\. \*\*Gateway\*\* в зависимости от типа запроса обращается к нужным микросервисам:

&nbsp;  - для авторизации — к `auth`;

&nbsp;  - для работы с пользователями — к `users`;

&nbsp;  - для управления проектами — к `projects`;

&nbsp;  - для управления задачами — к `tasks`;

&nbsp;  - для работы с комментариями — к `comments`;

&nbsp;  - для отправки уведомлений — к `notifications`.

3\. \*\*Внутренние сервисы\*\* не общаются напрямую с клиентом, а взаимодействуют друг с другом либо через `gateway`, либо по прямым HTTP-запросам (в рамках лабораторной работы).



Краткая цепочка:



\- Клиент → \*\*gateway\*\*

\- gateway → \*\*auth / users / projects / tasks / comments / notifications\*\*



---



\## 4. Отказоустойчивость и поведение при падении сервисов



В рамках лабораторной работы важно показать, что система может продолжать работать даже при временной недоступности отдельных микросервисов.



Основные сценарии:



1\. \*\*Падение `notifications` сервиса\*\*

&nbsp;  - Уведомления перестают отправляться.

&nbsp;  - Основной функционал (пользователи, проекты, задачи, комментарии) продолжает работать.

&nbsp;  - `gateway` при обращении к `notifications` получает ошибку, но это \*\*не влияет\*\* на создание задачи/комментария.



2\. \*\*Падение `comments` сервиса\*\*

&nbsp;  - Создание и просмотр комментариев становятся недоступными.

&nbsp;  - Проекты и задачи продолжают работать как обычно.

&nbsp;  - При запросе полной информации о задаче `gateway` может вернуть:

&nbsp;    - данные о задаче;

&nbsp;    - пометку о том, что комментарии временно недоступны.



3\. \*\*Падение любого сервисa (кроме `gateway`)\*\*

&nbsp;  - `gateway` \*\*продолжает отвечать\*\* клиенту.

&nbsp;  - Если один из внутренних сервисов не отвечает:

&nbsp;    - `gateway` обрабатывает ошибку (таймаут, недоступность);

&nbsp;    - возвращает частичный результат (например, проект без задач или задачу без комментариев);

&nbsp;    - дополнительно может возвращать информацию о том, какой сервис недоступен.



4\. \*\*Падение самого `gateway`\*\*

&nbsp;  - Клиент не может обратиться ни к одному внутреннему сервису.

&nbsp;  - В нормальном сценарии считается, что `gateway` — обязательный компонент для доступа извне.



---



\## 5. Резюме по архитектуре



\- Система состоит из нескольких небольших микросервисов, каждый из которых отвечает за свою часть логики: пользователи, проекты, задачи, комментарии, уведомления, авторизация.

\- Взаимодействие с клиентом осуществляется только через `gateway`.

\- Архитектура демонстрирует:

&nbsp; - разделение ответственности;

&nbsp; - слабую связанность компонентов;

&nbsp; - способность продолжать работу при отказе части сервисов (деградация без полного падения системы).



